<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Secret Message Fun ğŸ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#ffecd2,#fcb69f);
  margin:0;
  padding:0;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.container{
  background:#fff;
  width:95%;
  max-width:420px;
  border-radius:16px;
  padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
  text-align:center;
}
h1{margin-bottom:10px}
input,select,button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #ddd;
  font-size:16px;
}
button{
  background:#ff6f61;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:hover{opacity:.9}
.link-box{
  word-break:break-all;
  background:#f5f5f5;
  padding:10px;
  border-radius:8px;
  margin-top:10px;
}
.hidden{display:none}
.home-btn{
  margin-top:15px;
  background:#444;
}
.category-tag{
  font-weight:bold;
  margin-bottom:10px;
}
</style>
</head>

<body>
<div class="container">

<h1>ğŸ Secret Message Fun</h1>

<!-- SENDER -->
<div id="senderBox">
  <p>Create a fun secret message and share it ğŸ˜„</p>

  <input id="from" placeholder="Your name">
  <input id="to" placeholder="Receiver name">

  <select id="category">
    <option value="">Select message type</option>
    <option value="funny">Funny</option>
    <option value="friendly">Friendly</option>
    <option value="motivational">Motivational</option>
  </select>

  <button onclick="generate()">Generate Secret Link</button>

  <div id="linkArea" class="hidden">
    <p>Share this link ğŸ‘‡</p>
    <div class="link-box" id="link"></div>
    <button onclick="share()">Share on WhatsApp</button>
  </div>
</div>

<!-- RECEIVER -->
<div id="receiverBox" class="hidden">
  <h2 id="msgTitle"></h2>
  <div class="category-tag" id="msgCategory"></div>
  <p id="msgText"></p>
  <button class="home-btn" onclick="goHome()">ğŸ  Home</button>
</div>

</div>

<script>
const messages = {
  funny: [
    "You just unlocked a smile ğŸ˜„",
    "This message travelled secretly to you ğŸ•µï¸â€â™‚ï¸",
    "Warning: Happiness detected âš ï¸",
    "You owe me one smile now ğŸ˜œ",
    "Surprise unlocked ğŸ‰",
    "Keep smiling, it suits you ğŸ˜",
    "This message chose YOU ğŸ¯",
    "Tiny message, big smile ğŸ˜†",
    "Inbox happiness delivered ğŸ“©",
    "Smile check completed âœ…"
  ],
  friendly: [
    "You matter more than you know ğŸ¤",
    "Someone remembered you today ğŸ˜Š",
    "This message brings good vibes âœ¨",
    "Hope your day is awesome ğŸŒˆ",
    "Youâ€™re appreciated ğŸ‘",
    "Just a reminder: youâ€™re cool ğŸ˜",
    "Positive thoughts coming your way ğŸ’«",
    "A small hello from far away ğŸ‘‹",
    "Friendship never needs a reason ğŸ¤—",
    "Stay happy always ğŸ™‚"
  ],
  motivational: [
    "You are stronger than you think ğŸ’ª",
    "Small steps lead to big wins ğŸš€",
    "Believe in yourself ğŸŒŸ",
    "Your time will come â³",
    "Progress over perfection ğŸ”¥",
    "Keep going, donâ€™t stop ğŸ›¤ï¸",
    "Youâ€™re capable of amazing things âœ¨",
    "Today is a fresh start ğŸŒ…",
    "Focus. Move. Win. ğŸ¯",
    "Success likes patience ğŸ§ "
  ]
};

// GENERATE LINK
function generate(){
  const from = document.getElementById("from").value.trim();
  const to = document.getElementById("to").value.trim();
  const cat = document.getElementById("category").value;

  if(!from || !to || !cat){
    alert("Fill all fields");
    return;
  }

  const list = messages[cat];
  const msg = list[Math.floor(Math.random()*list.length)];

  const payload = {
    from,
    to,
    category: cat,
    message: msg
  };

  const encoded = btoa(unescape(encodeURIComponent(JSON.stringify(payload))));
  const url = location.origin + location.pathname + "?data=" + encoded;

  document.getElementById("link").innerText = url;
  document.getElementById("linkArea").classList.remove("hidden");
}

// SHARE
function share(){
  const text = document.getElementById("link").innerText;
  window.open("https://wa.me/?text=" + encodeURIComponent(text));
}

// HOME
function goHome(){
  window.location.href = location.pathname;
}

// RECEIVER MODE
const params = new URLSearchParams(window.location.search);
if(params.get("data")){
  const decoded = JSON.parse(
    decodeURIComponent(escape(atob(params.get("data"))))
  );

  document.getElementById("senderBox").classList.add("hidden");
  document.getElementById("receiverBox").classList.remove("hidden");

  document.getElementById("msgTitle").innerText =
    "Hey " + decoded.to + " ğŸ‘‹";

  document.getElementById("msgCategory").innerText =
    "Category: " + decoded.category.toUpperCase();

  document.getElementById("msgText").innerText =
    decoded.message;
}
</script>

</body>
</html>
