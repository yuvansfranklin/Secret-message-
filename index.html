<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>üíå Secret Valentine Message</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:'Comic Sans MS',Arial,sans-serif;
  background:linear-gradient(135deg,#ffd6e8,#ffe9c6);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  background:#fff;
  width:95%;
  max-width:420px;
  border-radius:20px;
  padding:20px;
  text-align:center;
  box-shadow:0 15px 40px rgba(0,0,0,.2);
}
.hidden{display:none}
.envelope{
  font-size:80px;
  cursor:pointer;
  animation:pulse 1.4s infinite;
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.12)}
  100%{transform:scale(1)}
}
input,select,button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:16px;
}
button{
  background:#ff5a7a;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:hover{opacity:.9}
.msg{
  font-size:18px;
  min-height:90px;
  margin-top:10px;
}
.category{
  font-weight:bold;
  color:#ff5a7a;
  margin-top:5px;
}
.home{
  background:#444;
  margin-top:15px;
}
.heart{
  position:fixed;
  bottom:-20px;
  font-size:20px;
  animation:float 4s linear infinite;
}
@keyframes float{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-100vh);opacity:0}
}
</style>
</head>

<body>
<div class="container">

<!-- CREATE -->
<div id="create">
  <h2>üíå Secret Valentine</h2>
  <input id="from" placeholder="Your name">
  <input id="to" placeholder="Receiver name">

  <select id="cat">
    <option value="">Choose category</option>
    <option value="friend">Friend</option>
    <option value="lover">Lover</option>
    <option value="crush">Crush</option>
    <option value="family">Family</option>
    <option value="ex">Ex</option>
  </select>

  <button onclick="generate()">Generate Link</button>

  <div id="linkBox" class="hidden">
    <div id="link" style="word-break:break-all;background:#f4f4f4;padding:10px;border-radius:10px"></div>
    <button onclick="share()">Share on WhatsApp</button>
  </div>
</div>

<!-- VIEW -->
<div id="view" class="hidden">
  <div class="envelope" onclick="openMsg()">üíå</div>
  <h3 id="hello"></h3>
  <div class="category" id="catText"></div>
  <div class="msg" id="msg"></div>
  <button class="home" onclick="goHome()">üè† Home</button>
</div>

</div>

<audio id="music"></audio>

<script>
/* ===== MESSAGES (20 EACH) ===== */
const messages={
friend:[
"You are my comfort zone ü§ç","Friends like you are rare üíé","Always got my back üí™",
"Life is lighter with you üòÑ","Friendship > everything üî•","You understand my silence ü§´",
"Real ones stay ü§ù","Forever thankful for you üå±","Memories priceless üì∏","You matter a lot üíô",
"Best chaos partner üòÇ","No filters needed üòé","You keep me sane üòå","Always support üôå",
"Pure friendship üí´","Grew together üåø","Trust never breaks üîê","Always welcome üè°",
"One bond, many memories üß©","Friendship forever ‚ôæÔ∏è"
],
lover:[
"My heart chose you ‚ù§Ô∏è","You feel like home üè†","Love feels calm with you üå∏",
"My favourite person üíï","Forever starts here üíç","My safe place ü§ç",
"Love grows daily üåπ","You complete me üíë","My world üåç","Heartbeat sync üíì",
"You are my peace üéµ","Always us üíñ","I trust you fully üîê",
"My best decision ‚ú®","Love in every moment üí´","You matter most üíò",
"My today & tomorrow ‚è≥","My happiness üòä","All my love ‚ù§Ô∏è","Always you ‚ôæÔ∏è"
],
crush:[
"I like you secretly ü§´","My heart notices you üíì","You make me smile üò≥",
"Something about you ‚ú®","Silent admiration üåô","My thoughts find you üí≠",
"You feel special üíå","Hope someday üå±","You‚Äôre my distraction üòÑ",
"Nervous around you üòÖ","Quiet feelings ü§ç","You stand out üåü",
"Unspoken thoughts üí≠","My smile begins with you üòä","Wish you knew üôà",
"Soft spot üíï","Heart whispers your name üíì","Tiny hopes üå∏",
"One-sided magic ‚ú®","Maybe someday üí´"
],
family:[
"Family first ‚ù§Ô∏è","My strength üè°","Unconditional love ü§ç",
"Forever support üôè","Home feels warm üå∏","Roots strong üå≥",
"Always together ü´Ç","Grateful always üíñ","My safe world üåç",
"Love without limits üí´","You shaped me üå±","Forever bond üîó",
"Peace lives here üòå","Blessed family üôå","Support system üí™",
"Heart of home üè†","Together always ‚ôæÔ∏è","Pure love üíï",
"My foundation üß±","Family forever ‚ù§Ô∏è"
],
ex:[
"Lessons learned üå±","Grateful memories üìñ","No hatred ü§ç",
"Time healed ‚è≥","Acceptance üåßÔ∏è","Peace now üåä",
"Respect remains üôè","Growth happened üåø","Silence closure ü§´",
"Moving on üõ§Ô∏è","Thankful for past üí≠","Changed paths üåô",
"No regrets ‚ú®","Wiser now üß†","Distance clarity üå´Ô∏è",
"Life continues üåÖ","Closed chapter üìò","Calm heart ü§ç",
"Good wishes üåà","New beginnings üå±"
]
};

/* ===== GENERATE LINK ===== */
function generate(){
  const f=from.value.trim(), t=to.value.trim(), c=cat.value;
  if(!f||!t||!c){alert("Fill everything macha üòÖ");return;}
  const id=Math.floor(Math.random()*20);
  const url=location.origin+location.pathname+
    `?from=${encodeURIComponent(f)}&to=${encodeURIComponent(t)}&cat=${c}&id=${id}`;
  link.innerText=url;
  linkBox.classList.remove("hidden");
}
function share(){
  window.open("https://wa.me/?text="+encodeURIComponent(link.innerText));
}

/* ===== VIEW MODE ===== */
const p=new URLSearchParams(location.search);
if(p.get("id")){
  create.classList.add("hidden");
  view.classList.remove("hidden");
  hello.innerText=`Hey ${p.get("to")} üëã`;
  catText.innerText=`From your ${p.get("cat").toUpperCase()}`;
}

function openMsg(){
  const c=p.get("cat"), id=p.get("id");
  typeText(messages[c][id]);
  hearts();
  playMusic(c);
}
function typeText(text){
  msg.innerText="";
  let i=0;
  const t=setInterval(()=>{
    msg.innerText+=text[i++];
    if(i>=text.length)clearInterval(t);
  },45);
}
function hearts(){
  setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="‚ù§Ô∏è";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  },500);
}
function playMusic(c){
  const m=document.getElementById("music");
  m.src=c+".mp3";
  m.loop=true;
  m.play().catch(()=>{});
}
function goHome(){location.href=location.pathname;}
</script>
</body>
</html>
